<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Mr.Sun"><meta name="copyright" content="Mr.Sun"><meta name="generator" content="Hexo 5.2.0"><meta name="theme" content="hexo-theme-yun"><title>数组的扩展 | samara的小屋</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.22/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":"云游君的小站","version":"1.3.0","mode":"auto","copycode":true,"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><meta name="description" content="数组的方法  Array.from()   扩展运算符 扩展运算符（spread）是三个点（…）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列    扩展运算符的应用  复制数组  数组是复合的数据类型，直接复制的话，只是复制了指向底层数据结构的指针，而不是克隆一个全新的数组  const a1 &#x3D; [1, 2];&#x2F;&#x2F; 写法一const a2 &#x3D; [...a1];&#x2F;&#x2F; 写法二">
<meta property="og:type" content="article">
<meta property="og:title" content="数组的扩展">
<meta property="og:url" content="http://example.com/2018/01/06/es6/%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95/index.html">
<meta property="og:site_name" content="samara的小屋">
<meta property="og:description" content="数组的方法  Array.from()   扩展运算符 扩展运算符（spread）是三个点（…）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列    扩展运算符的应用  复制数组  数组是复合的数据类型，直接复制的话，只是复制了指向底层数据结构的指针，而不是克隆一个全新的数组  const a1 &#x3D; [1, 2];&#x2F;&#x2F; 写法一const a2 &#x3D; [...a1];&#x2F;&#x2F; 写法二">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2018-01-06T02:34:06.000Z">
<meta property="article:modified_time" content="2020-11-18T08:40:07.127Z">
<meta property="article:author" content="Mr.Sun">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button sidebar-nav-active" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel sidebar-panel-active" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Mr.Sun"><img width="96" loading="lazy" src="/Yun.png" alt="Mr.Sun"></a><div class="site-author-name"><a href="/about/">Mr.Sun</a></div><a class="site-name" href="/about/site.html">samara的小屋</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">6</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=epvxdq1sknJe9JMj6J1LsBw4a6cI_2ln&amp;jump_from=webapi" title="QQ 群 389401003" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/YunYouJun" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/jizhideyunyoujun" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/yunyoujun/" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=247102977" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/yunyoujun/" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/1579790" title="哔哩哔哩" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/YunYouJun" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/elpsycn" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@yunyoujun.cn" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.now.sh/" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content">This post does not have a Table of Contents</div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2018/01/06/es6/%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Mr.Sun"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="samara的小屋"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">数组的扩展</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2018-01-06 10:34:06" itemprop="dateCreated datePublished" datetime="2018-01-06T10:34:06+08:00">2018-01-06</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2020-11-18 16:40:07" itemprop="dateModified" datetime="2020-11-18T16:40:07+08:00">2020-11-18</time></div><div class="post-classify"></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>数组的方法</p>
<ol>
<li>Array.from()</li>
</ol>
<ol>
<li>扩展运算符<blockquote>
<p>扩展运算符（spread）是三个点（…）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列</p>
</blockquote>
</li>
</ol>
<p>扩展运算符的应用</p>
<ol>
<li><p>复制数组</p>
<blockquote>
<p>数组是复合的数据类型，直接复制的话，只是复制了指向底层数据结构的指针，而不是克隆一个全新的数组</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> a1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br><span class="hljs-comment">// 写法一</span><br><span class="hljs-keyword">const</span> a2 = [...a1];<br><span class="hljs-comment">// 写法二</span><br><span class="hljs-keyword">const</span> [...a2] = a1;<br></code></pre></td></tr></table></figure></li>
<li><p>合并数组</p>
<blockquote>
<p>这两种方法都是浅拷贝，使用的时候需要注意</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr1 = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>];<br><span class="hljs-keyword">const</span> arr2 = [<span class="hljs-string">&#x27;c&#x27;</span>];<br><span class="hljs-keyword">const</span> arr3 = [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>];<br><br><span class="hljs-comment">// ES5 的合并数组</span><br>arr1.concat(arr2, arr3);<br><span class="hljs-comment">// [ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27; ]</span><br><br><span class="hljs-comment">// ES6 的合并数组</span><br>[...arr1, ...arr2, ...arr3]<br><span class="hljs-comment">// [ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27; ]</span><br><br><span class="hljs-keyword">const</span> a1 = [&#123; <span class="hljs-attr">foo</span>: <span class="hljs-number">1</span> &#125;];<br><span class="hljs-keyword">const</span> a2 = [&#123; <span class="hljs-attr">bar</span>: <span class="hljs-number">2</span> &#125;];<br><br><span class="hljs-keyword">const</span> a3 = a1.concat(a2);<br><span class="hljs-keyword">const</span> a4 = [...a1, ...a2];<br><br><span class="hljs-keyword">let</span> a = &#123;<span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;1&#x27;</span>&#125;;<br><span class="hljs-keyword">let</span> b = &#123;<span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;2&#x27;</span>&#125;;<br><span class="hljs-keyword">const</span> a1 = [a, b];<br><span class="hljs-keyword">const</span> b1 = [...a1]<br><br>a3[<span class="hljs-number">0</span>] === a1[<span class="hljs-number">0</span>] <span class="hljs-comment">// true</span><br>a4[<span class="hljs-number">0</span>] === a1[<span class="hljs-number">0</span>] <span class="hljs-comment">// true</span><br><span class="hljs-comment">// 用两种不同方法合并而成的新数组，但是它们的成员都是对原数组成员的引用，这就是浅拷贝。如果修改了原数组的成员，会同步反映到新数组</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>与解构赋值结合</p>
<blockquote>
<p>扩展运算符可以与解构赋值结合起来，用于生成数组</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ES5</span><br>a = list[<span class="hljs-number">0</span>], rest = list.slice(<span class="hljs-number">1</span>)<br><span class="hljs-comment">// ES6</span><br>[a, ...rest] = list<br></code></pre></td></tr></table></figure>
</li>
<li><p>扩展运算符可以将字符串转为真正的数组</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">[...<span class="hljs-string">&#x27;hello&#x27;</span>]<br><span class="hljs-comment">// [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]</span><br></code></pre></td></tr></table></figure>


</li>
</ol>
<p>###数组的方法</p>
<ol>
<li>Array.from();</li>
</ol>
<blockquote>
<p>将两类对象转为真正的数组：<br>1.1 类似数组的对象（array-like object）<br>注： 任何有length属性的对象，都可以通过Array.from方法转为数组</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arrayLike = &#123;<br>    <span class="hljs-string">&#x27;0&#x27;</span>: <span class="hljs-string">&#x27;a&#x27;</span>,<br>    <span class="hljs-string">&#x27;1&#x27;</span>: <span class="hljs-string">&#x27;b&#x27;</span>,<br>    <span class="hljs-string">&#x27;2&#x27;</span>: <span class="hljs-string">&#x27;c&#x27;</span>,<br>    length: <span class="hljs-number">3</span><br>&#125;;<br><br><span class="hljs-comment">// ES5的写法</span><br><span class="hljs-keyword">var</span> arr1 = [].slice.call(arrayLike); <span class="hljs-comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span><br><br><span class="hljs-comment">// ES6的写法</span><br><span class="hljs-keyword">let</span> arr2 = <span class="hljs-built_in">Array</span>.from(arrayLike); <span class="hljs-comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span><br><br><br><span class="hljs-built_in">Array</span>.from(&#123; <span class="hljs-attr">length</span>: <span class="hljs-number">3</span> &#125;);<br><span class="hljs-comment">// [ undefined, undefined, undefined ]</span><br></code></pre></td></tr></table></figure>
<p>1.2 可遍历（iterable）的对象(包括 ES6 新增的数据结构 Set 和 Map)</p>
<blockquote>
<p>部署了 Iterator 接口的数据结构，Array.from都能将其转为数组</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// NodeList对象</span><br><span class="hljs-keyword">let</span> ps = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;p&#x27;</span>);<br><span class="hljs-built_in">Array</span>.from(ps).filter(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> &#123;<br>  <span class="hljs-keyword">return</span> p.textContent.length &gt; <span class="hljs-number">100</span>;<br>&#125;);<br><br><span class="hljs-comment">// arguments对象</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.from(<span class="hljs-built_in">arguments</span>);<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>Array.from()的参数<br>第一个参数： 需要转为数组的对象<br>第二个参数： 过滤器函数<br>第三个参数: 在过滤器函数中的this对象<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-number">0</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-number">1</span>: <span class="hljs-number">2</span>,<br>    <span class="hljs-number">2</span>: <span class="hljs-number">3</span>,<br>    length: <span class="hljs-number">3</span><br>&#125;;<br><br><span class="hljs-keyword">let</span> keys = &#123;<br>    a: <span class="hljs-number">1</span><br>&#125;<br><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Array</span>.from(obj,  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.a)<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.a + item<br><br>&#125;, keys))<br></code></pre></td></tr></table></figure>



</li>
</ol>
<ol start="2">
<li><p>Array.of();</p>
<blockquote>
<p>Array.of方法用于将一组值，转换为数组, 弥补数组构造函数Array()的不足<br>总是返回参数值组成的数组。如果没有参数，就返回一个空数组</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">Array</span>.of() <span class="hljs-comment">// []</span><br><span class="hljs-built_in">Array</span>.of(<span class="hljs-literal">undefined</span>) <span class="hljs-comment">// [undefined]</span><br><span class="hljs-built_in">Array</span>.of(<span class="hljs-number">1</span>) <span class="hljs-comment">// [1]</span><br><span class="hljs-built_in">Array</span>.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// [1, 2]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>array.copyWithin(target, start, end)</p>
<blockquote>
<p>在当前数组内部，将指定位置的成员复制到其他位置（会覆盖原有成员），然后返回当前数组<br> target（必需）：从该位置开始替换数据。如果为负值，表示倒数。<br> start（可选）：从该位置开始读取数据，默认为 0。如果为负值，表示从末尾开始计算。<br> end（可选）：到该位置前停止读取数据，默认等于数组长度。如果为负值，表示从末尾开始计算</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">console</span>.log([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>].copyWithin(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// [ 3, 4, 5, 6, 7, 8, 6, 7, 8 ]</span><br><br><span class="hljs-built_in">console</span>.log([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>].copyWithin(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>)); <span class="hljs-comment">// [ 3, 4, 2, 3, 4, 5, 6, 7, 8 ]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>array.find(callback(item, index, arr))</p>
<blockquote>
<p>用于找出第一个符合条件的数组成员<br>所有数组成员依次执行该回调函数，直到找出第一个返回值为true的成员，然后返回该成员<br>没有找到返回undefined<br>参数：<br> 第一个参数：callback</p>
<pre><code>     item：当前元素
     index: 当前下标
     arr: 原数组</code></pre>
<p> 第二个参数：对象</p>
<pre><code> 回调函数中的this对象指向的对象。</code></pre>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">v</span>)</span>&#123;<br>  <span class="hljs-keyword">return</span> v &gt; <span class="hljs-built_in">this</span>.age;<br>&#125;<br><span class="hljs-keyword">let</span> person = &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>&#125;;<br>[<span class="hljs-number">10</span>, <span class="hljs-number">12</span>, <span class="hljs-number">26</span>, <span class="hljs-number">15</span>].find(f, person);    <span class="hljs-comment">// 26</span><br><br></code></pre></td></tr></table></figure>

<ol start="5">
<li><p>array.findIndex(callback(item, index, arr));</p>
<blockquote>
<p>返回第一个符合条件的数组成员的位置<br>如果所有成员都不符合条件，则返回-1</p>
</blockquote>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><code class="hljs n1ql">[1, 5, 10, <span class="hljs-number">15</span>].findIndex(<span class="hljs-keyword">function</span>(<span class="hljs-keyword">value</span>, <span class="hljs-keyword">index</span>, arr) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">value</span> &gt; <span class="hljs-number">9</span>;<br>&#125;) // 2<br></code></pre></td></tr></table></figure>
</li>
<li><p>array.fill(val, start, end)</p>
<blockquote>
<p>使用给定值，填充一个数组</p>
<pre><code> val: 填充值
 start: 开始填充的起始位置
 end:   填充的 结束的位置</code></pre>
</blockquote>
<figure class="highlight awk"><table><tr><td class="code"><pre><code class="hljs awk">[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>].fill(<span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-regexp">//</span> [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">7</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br></code></pre></td></tr></table></figure>
</li>
<li><p>array.includes(val, target)</p>
<blockquote>
<p>表示某个数组是否包含给定的值<br>参数<br> val: 查询的参数<br> index: 搜索的起始位置 默认为0</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="code"><pre><code class="hljs yaml">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-string">.includes(3,</span> <span class="hljs-number">3</span><span class="hljs-string">);</span>  <span class="hljs-string">//</span> <span class="hljs-literal">false</span><br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-string">.includes(3,</span> <span class="hljs-number">-1</span><span class="hljs-string">);</span> <span class="hljs-string">//</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>

</li>
</ol>
<p>8.<br>array.keys(); =&gt; 键名的遍历<br>array.values(); =&gt; 键值的遍历<br>array.entries(); =&gt; 键值对的遍历</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index <span class="hljs-keyword">of</span> [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>].keys()) &#123;<br>    <span class="hljs-built_in">console</span>.log(index);<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> value <span class="hljs-keyword">of</span> [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>].values()) &#123;<br>    <span class="hljs-built_in">console</span>.log(value);<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> entry <span class="hljs-keyword">of</span> [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>].entries()) &#123;<br>    <span class="hljs-built_in">console</span>.log(entry); <span class="hljs-comment">// [index, value]</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="9">
<li>扁平化<br>array.flat(扁平层数 = 1);<blockquote>
<p>扁平层数: Infinity<br>原数组有空位，flat()方法会跳过空位</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">console</span>.log([<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]].flat()) <span class="hljs-comment">// [1, 2, 3]</span><br><span class="hljs-built_in">console</span>.log([<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, , <span class="hljs-number">3</span>]].flat()) <span class="hljs-comment">// [1, 2, 3]</span><br><span class="hljs-built_in">console</span>.log([<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>]]].flat()); <span class="hljs-comment">// [1, 2, [3]]</span><br><span class="hljs-built_in">console</span>.log([<span class="hljs-number">1</span>, [<span class="hljs-number">2</span>, [<span class="hljs-number">3</span>]]].flat(<span class="hljs-number">2</span>)); <span class="hljs-comment">// [1, 2, 3]</span><br></code></pre></td></tr></table></figure>
array.flatMap()<blockquote>
<ol>
<li>对原数组的每个成员执行一个函数，相当于执行Array.prototype.map()</li>
<li>然后对返回值组成的数组执行flat()方法</li>
<li>该方法返回一个新数组，不改变原数组</li>
<li>只能展开一层数组</li>
</ol>
</blockquote>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 相当于 [[2, 4], [3, 6], [4, 8]].flat()</span><br>[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].flatMap(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> [x, x * <span class="hljs-number">2</span>])<br><span class="hljs-comment">// [2, 4, 3, 6, 4, 8]</span><br><br><br><span class="hljs-comment">// 相当于 [[[2]], [[4]], [[6]], [[8]]].flat()</span><br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].flatMap(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> [[x * <span class="hljs-number">2</span>]])<br><span class="hljs-comment">// [[2], [4], [6], [8]]</span><br></code></pre></td></tr></table></figure>


<ol start="10">
<li>数组空位</li>
</ol>
<blockquote>
<p>forEach(), filter(), reduce(), every() 和some()都会跳过空位<br>map()会跳过空位，但会保留这个值<br>join()和toString()会将空位视为undefined，而undefined和null会被处理成空字符串</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// forEach方法</span><br>[,<span class="hljs-string">&#x27;a&#x27;</span>].forEach(<span class="hljs-function">(<span class="hljs-params">x,i</span>) =&gt;</span> <span class="hljs-built_in">console</span>.log(i)); <span class="hljs-comment">// 1</span><br><br><span class="hljs-comment">// filter方法</span><br>[<span class="hljs-string">&#x27;a&#x27;</span>,,<span class="hljs-string">&#x27;b&#x27;</span>].filter(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-literal">true</span>) <span class="hljs-comment">// [&#x27;a&#x27;,&#x27;b&#x27;]</span><br><br><span class="hljs-comment">// every方法</span><br>[,<span class="hljs-string">&#x27;a&#x27;</span>].every(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x===<span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-comment">// true</span><br><br><span class="hljs-comment">// reduce方法</span><br>[<span class="hljs-number">1</span>,,<span class="hljs-number">2</span>].reduce(<span class="hljs-function">(<span class="hljs-params">x,y</span>) =&gt;</span> x+y) <span class="hljs-comment">// 3</span><br><br><span class="hljs-comment">// some方法</span><br>[,<span class="hljs-string">&#x27;a&#x27;</span>].some(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x !== <span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-comment">// false</span><br><br><span class="hljs-comment">// map方法</span><br>[,<span class="hljs-string">&#x27;a&#x27;</span>].map(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-number">1</span>) <span class="hljs-comment">// [,1]</span><br><br><span class="hljs-comment">// join方法</span><br>[,<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-literal">undefined</span>,<span class="hljs-literal">null</span>].join(<span class="hljs-string">&#x27;#&#x27;</span>) <span class="hljs-comment">// &quot;#a##&quot;</span><br><br><span class="hljs-comment">// toString方法</span><br>[,<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-literal">undefined</span>,<span class="hljs-literal">null</span>].toString() <span class="hljs-comment">// &quot;,a,,&quot;</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>ES6 则是明确将空位转为undefined<br>Array.from方法会将数组的空位，转为undefined</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">Array</span>.from([<span class="hljs-string">&#x27;a&#x27;</span>,,<span class="hljs-string">&#x27;b&#x27;</span>])<br><span class="hljs-comment">// [ &quot;a&quot;, undefined, &quot;b&quot; ]</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>扩展运算符（…）也会将空位转为undefined</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">[...[<span class="hljs-string">&#x27;a&#x27;</span>,,<span class="hljs-string">&#x27;b&#x27;</span>]]<br><span class="hljs-comment">// [ &quot;a&quot;, undefined, &quot;b&quot; ]</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>copyWithin()会连空位一起拷贝</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">[,<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,,].copyWithin(<span class="hljs-number">2</span>,<span class="hljs-number">0</span>) <span class="hljs-comment">// [,&quot;a&quot;,,&quot;a&quot;]</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>fill()会将空位视为正常的数组位置</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">3</span>).fill(<span class="hljs-string">&#x27;a&#x27;</span>) <span class="hljs-comment">// [&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>for…of循环也会遍历空位</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [, ,];<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i <span class="hljs-keyword">of</span> arr) &#123;<br>  <span class="hljs-built_in">console</span>.log(<span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-comment">// 1</span><br><span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>entries()、keys()、values()、find()和findIndex()会将空位处理成undefined</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// entries()</span><br>[...[,<span class="hljs-string">&#x27;a&#x27;</span>].entries()] <span class="hljs-comment">// [[0,undefined], [1,&quot;a&quot;]]</span><br><br><span class="hljs-comment">// keys()</span><br>[...[,<span class="hljs-string">&#x27;a&#x27;</span>].keys()] <span class="hljs-comment">// [0,1]</span><br><br><span class="hljs-comment">// values()</span><br>[...[,<span class="hljs-string">&#x27;a&#x27;</span>].values()] <span class="hljs-comment">// [undefined,&quot;a&quot;]</span><br><br><span class="hljs-comment">// find()</span><br>[,<span class="hljs-string">&#x27;a&#x27;</span>].find(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-literal">true</span>) <span class="hljs-comment">// undefined</span><br><br><span class="hljs-comment">// findIndex()</span><br>[,<span class="hljs-string">&#x27;a&#x27;</span>].findIndex(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-literal">true</span>) <span class="hljs-comment">// 0</span><br></code></pre></td></tr></table></figure>


</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png" alt="QQ 支付" title="QQ 支付"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Mr.Sun</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://example.com/2018/01/06/es6/%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95/" title="数组的扩展">http://example.com/2018/01/06/es6/%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2018/01/08/es6/%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A9%E5%B1%95/" rel="prev" title="函数的扩展"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">函数的扩展</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2018/01/05/es6/%E6%95%B0%E5%80%BC%E7%9A%84%E6%89%A9%E5%B1%95/" rel="next" title="数值的扩展"><span class="post-nav-text">数值的扩展</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>点击按钮跳转 GitHub Issues 评论。</span><br><span>若没有本文 Issue，您可以使用 Comment 模版新建。</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+数组的扩展">GitHub Issues</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2020 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> Mr.Sun</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.3.0</span></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>